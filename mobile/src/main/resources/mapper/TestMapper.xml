<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.dao.TestMapper">
	<insert id="addTest">
		INSERT INTO test_table(start_time,end_time,name,course_id)
		VALUES(#{startTime},#{endTime},#{name},#{courseId});
	</insert>
	
	<select id="getTestList" resultMap="test">
		SELECT *
		FROM test_table
		WHERE course_id = #{courseId} 
	</select>
	
	<resultMap type="Test" id="test">
		<id column="id" property="id"/>
		<result column="start_time" property="startTime"/>
		<result column="end_time" property="endTime"/>
		<result column="name" property="name"/>
		<result column="course_id" property="course_id"/>
	</resultMap>
	
	<insert id="addQuestion">
		INSERT INTO question_table(content,answer,test_id,score)
		VALUES(#{content},#{answer},#{test_id},#{score});
	</insert>
	<select id="getQuestionList" resultMap="question">
		SELECT *
		FROM question_table
		WHERE test_id = #{testId} 
	</select>
	
	<resultMap type="Question" id="question">
		<id column="id" property="id"/>
		<result column="content" property="content"/>
		<result column="answer" property="answer"/>
		<result column="test_id" property="testId"/>
		<result column="score" property="score"/>
	</resultMap>
</mapper>